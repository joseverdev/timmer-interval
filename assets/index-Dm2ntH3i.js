(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const A={$setsInput:document.getElementById("sets"),$worksSecondsInput:document.getElementById("work-input"),$workMinutesInput:document.getElementById("work-minutes-input"),$restMinutesInput:document.getElementById("rest-minutes-input"),$restSecondsInput:document.getElementById("rest-seconds-input"),$configDiv:document.querySelector(".config"),$preparationDiv:document.querySelector(".preparation"),$preparationText:document.getElementById("preparation__text"),$preparationTimmer:document.getElementById("preparation__timmer"),$countDiv:document.getElementById("count"),$countTitle:document.getElementById("count__title"),$countTimmer:document.getElementById("count__timmer"),$countSets:document.getElementById("count__sets"),$exitBtn:document.getElementById("exit")};function l(e,t){const s=e.trim();if(s==="")return"00";const n=s.replace(/\D/g,"");if(n==="")return"00";let r=n.slice(0,t);return r.length===1&&(r=r.padStart(2,"0")),r}function I(e,t){e.addEventListener("input",()=>{e.value.length>t&&(e.value=e.value.slice(0,t))}),e.addEventListener("blur",()=>{e.value=l(e.value,t)})}function _(e,t,s){e.addEventListener("blur",()=>{let n=Number(e.value);isNaN(n)||n<t?e.value=l(String(t),2):n>s?e.value=l(String(s),2):e.value=l(String(n),2)})}function C(e,t){const s=Number(e.value),n=Number(t.value);s<59?e.value=l(String(s+1),2):n<99&&(t.value=l(String(n+1),2),e.value="00")}function N(e,t){const s=Number(e.value),n=Number(t.value);n>0?s===0?(t.value=l(String(n-1),2),e.value="59"):e.value=l(String(s-1),2):s>0&&(e.value=String(s-1).padStart(2,"0"))}const{$setsInput:i,$workMinutesInput:y,$restMinutesInput:L,$restSecondsInput:v,$worksSecondsInput:g,$configDiv:O,$preparationDiv:B,$preparationText:R,$preparationTimmer:k,$countDiv:S,$countTitle:H,$countTimmer:M,$countSets:z,$exitBtn:d}=A;let a=null,m=!1,u=0,w="",h=null;i.addEventListener("keydown",e=>{["e","E","+","-","."].includes(e.key)&&e.preventDefault()});i.addEventListener("input",()=>{const e=i.value;e.length>2&&(i.value=e.slice(0,2))});I(y,2);I(L,2);I(g,2);I(v,2);_(g,0,59);_(v,0,59);document.addEventListener("click",e=>{const t=e.target;if(t.matches("#set-increment")){const n=Number(i.value);n<99&&(i.value=String(n+1))}if(t.matches("#set-decrement")){const n=Number(i.value);n>1&&(i.value=String(n-1))}if(t.matches("#work-increment")&&C(g,y),t.matches("#rest-increment")&&C(v,L),t.matches("#rest-decrement")&&N(v,L),t.matches("#work-decrement")&&N(g,y),t.matches("#start-btn")){let n=function(){if(B.classList.add("hidden"),S.classList.remove("hidden"),f>p){console.log("TIMER COMPLETADO");return}console.log(`Starting set ${f} of ${p}`),z.textContent=`${p-f+1}`,D(r,o,"Work",()=>{console.log("REST"),D(c,T,"Rest",()=>{console.log(`Set ${f} completed`),f++,n()})})};const r=Number(y.value),o=Number(g.value),c=Number(L.value),T=Number(v.value),p=Number(i.value);console.log({workMinutes:r,workSeconds:o,restMinutes:c,restSeconds:T,sets:p}),O.classList.add("hidden"),B.classList.remove("hidden");let $=5;const q=setInterval(()=>{$>1?(console.log("Count:",$-1),k.textContent=String($-1),$--):(console.log("Go!"),k.classList.add("hidden"),R.classList.remove("hidden"),clearInterval(q),setTimeout(()=>{n()},1e3))},1e3);let f=1}const s=t.closest("#pause-btn");if(s){const[n,r]=s.querySelectorAll("svg");m=!m,n.classList.toggle("hidden"),r.classList.toggle("hidden"),m?S.style.opacity="0.6":S.style.opacity="1"}});let x=null,b=!1;d.addEventListener("mousedown",()=>{b=!0,d.classList.add("is-active"),x=setTimeout(()=>{b&&(d.classList.remove("is-active"),a&&clearInterval(a),m=!1,u=0,w="",h=null,S.classList.add("hidden"),O.classList.remove("hidden"),document.body.classList.remove("state-work","state-rest"))},2e3)});function P(){b=!1,d.classList.remove("is-active"),clearTimeout(x)}d.addEventListener("mouseup",P);d.addEventListener("mouseleave",P);function E(e){const t=Math.floor(e/60),s=e%60;return`${String(t).padStart(2,"0")}:${String(s).padStart(2,"0")}`}function D(e,t,s,n){u=e*60+t,w=s,h=n,m=!1,H.textContent=s.toUpperCase(),document.body.classList.remove("state-work","state-rest"),s.toLowerCase()==="work"?document.body.classList.add("state-work"):s.toLowerCase()==="rest"&&document.body.classList.add("state-rest"),F()}function F(){a&&clearInterval(a),a=setInterval(()=>{m||(u>0?(console.log(`${w} Time: ${E(u)}`),M.textContent=E(u),u--):(M.textContent=E(0),clearInterval(a),h&&h()))},1e3)}
